digraph TemporalSequenceFlow {
    rankdir=LR;
    node [shape=box, style="rounded,filled", fontname="Arial", fontsize=16];
    edge [fontname="Arial", fontsize=14];
    splines=ortho;
    nodesep=0.8;
    ranksep=1.2;

    // Input
    input [label="555-1234", shape=ellipse, fillcolor="#E3F2FD",
           penwidth=3, fontsize=20, width=1.5];

    // Working Memory with primacy
    wm [label="Working Memory\n\n[555] strong\n[1234] weak\n\nPrimacy gradient applied",
        fillcolor="#C8E6C9", penwidth=2, fontsize=16];

    // Winners
    winners [label="Chunk Winners\n\n[555]\n[1234]\n\nOptimal 3-4 element size",
             fillcolor="#FFC107", penwidth=3, fontsize=16, style="rounded,filled,bold"];

    // Categories
    categories [label="Learned Categories\n\nArea code pattern\nLocal number pattern",
                fillcolor="#CE93D8", penwidth=2, fontsize=16];

    // Output
    output [label="[555] [1234]", shape=ellipse, fillcolor="#E8F5E9",
            penwidth=3, fontsize=20, width=1.8];

    // Main flow
    input -> wm [label="store sequence", penwidth=4, color="#1976D2", fontsize=14];
    wm -> winners [label="multi-scale\ncompetition", penwidth=4, color="#388E3C", fontsize=14];
    winners -> categories [label="learn chunks", penwidth=4, color="#7B1FA2", fontsize=14];
    categories -> output [label="recall", penwidth=4, color="#2E7D32", fontsize=14];
}
